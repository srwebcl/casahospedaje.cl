---

---

<form class="space-y-8" id="contact-form">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="group">
            <label
                for="name"
                class="block text-sm font-medium text-gray-500 mb-2 transition-colors group-focus-within:text-[#d97706]"
                >Nombre Completo</label
            >
            <input
                type="text"
                name="name"
                id="name"
                required
                class="block w-full border-0 border-b-2 border-gray-200 bg-transparent py-2.5 px-0 text-gray-900 placeholder:text-gray-300 focus:border-[#d97706] focus:ring-0 transition-colors duration-300 sm:text-base"
                placeholder="Ej: Juan Pérez"
            />
        </div>

        <div class="group">
            <label
                for="phone"
                class="block text-sm font-medium text-gray-500 mb-2 transition-colors group-focus-within:text-[#d97706]"
                >Teléfono / WhatsApp</label
            >
            <input
                type="tel"
                name="phone"
                id="phone"
                required
                class="block w-full border-0 border-b-2 border-gray-200 bg-transparent py-2.5 px-0 text-gray-900 placeholder:text-gray-300 focus:border-[#d97706] focus:ring-0 transition-colors duration-300 sm:text-base"
                placeholder="+56 9 1234 5678"
            />
        </div>
    </div>

    <div class="group">
        <label
            for="email"
            class="block text-sm font-medium text-gray-500 mb-2 transition-colors group-focus-within:text-[#d97706]"
            >Correo Electrónico</label
        >
        <input
            type="email"
            name="email"
            id="email"
            required
            class="block w-full border-0 border-b-2 border-gray-200 bg-transparent py-2.5 px-0 text-gray-900 placeholder:text-gray-300 focus:border-[#d97706] focus:ring-0 transition-colors duration-300 sm:text-base"
            placeholder="nombre@ejemplo.com"
        />
    </div>

    <div class="group">
        <label
            for="subject"
            class="block text-sm font-medium text-gray-500 mb-2 transition-colors group-focus-within:text-[#d97706]"
            >Asunto</label
        >
        <select
            name="subject"
            id="subject"
            required
            class="block w-full border-0 border-b-2 border-gray-200 bg-transparent py-2.5 px-0 text-gray-900 focus:border-[#d97706] focus:ring-0 transition-colors duration-300 sm:text-base"
        >
            <option value="" disabled selected>Selecciona una opción</option>
            <option value="Reserva de Habitación">Reserva de Habitación</option>
            <option value="Consulta General">Consulta General</option>
            <option value="Evento Especial">Evento Especial</option>
            <option value="Otro">Otro</option>
        </select>
    </div>

    <div class="group">
        <label
            for="message"
            class="block text-sm font-medium text-gray-500 mb-2 transition-colors group-focus-within:text-[#d97706]"
            >Mensaje</label
        >
        <textarea
            name="message"
            id="message"
            rows="4"
            required
            class="block w-full border-0 border-b-2 border-gray-200 bg-transparent py-2.5 px-0 text-gray-900 placeholder:text-gray-300 focus:border-[#d97706] focus:ring-0 transition-colors duration-300 sm:text-base resize-none"
            placeholder="Cuéntanos más sobre tu viaje..."></textarea>
    </div>

    <div class="pt-4">
        <button
            type="submit"
            class="w-full md:w-auto px-8 py-4 bg-[#1e3a8a] text-white font-medium tracking-wide hover:bg-[#d97706] transition-all duration-300 rounded-none shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
        >
            Enviar Solicitud
        </button>
    </div>

    <div id="form-status" class="hidden text-sm font-medium text-center"></div>

    <script>
        const form = document.getElementById("contact-form") as HTMLFormElement;
        const statusDiv = document.getElementById(
            "form-status",
        ) as HTMLDivElement;

        form?.addEventListener("submit", async (e) => {
            e.preventDefault();
            const formData = new FormData(form);

            // Disable button
            const submitBtn = form.querySelector(
                'button[type="submit"]',
            ) as HTMLButtonElement;
            const originalText = submitBtn.innerText;
            submitBtn.disabled = true;
            submitBtn.innerText = "Enviando...";
            statusDiv.classList.add("hidden");

            try {
                const response = await fetch("/api/send-email", {
                    method: "POST",
                    body: formData,
                });

                const data = await response.json();

                if (response.ok) {
                    // Redirect to thank you page
                    window.location.href = "/gracias";
                } else {
                    throw new Error(
                        data.message || "Error al enviar el mensaje",
                    );
                }
            } catch (error: any) {
                console.error(error);
                statusDiv.innerText =
                    "Hubo un error al enviar el mensaje. " +
                    (error.message || "Por favor intenta nuevamente.");
                statusDiv.classList.remove("text-green-600", "hidden");
                statusDiv.classList.add("text-red-600");

                submitBtn.disabled = false;
                submitBtn.innerText = originalText;
                statusDiv.classList.remove("hidden");
            }
        });
    </script>
</form>
